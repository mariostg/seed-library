<!--
This file is part of the project management system for plant growth characteristics.
It allows users to update the plant growth characteristics, including:
    # Growth Characteristics
        ## Physical Attributes
            max_height (FloatField): Maximum mature height
            max_width (FloatField): Maximum mature width/spread
            growth_habit (ForeignKey): Reference to GrowthHabit model
            does_not_spread (BooleanField): Whether plant does not spread

        ## Life Cycle
            lifespan (ForeignKey): Reference to PlantLifespan model
            dioecious (BooleanField): Whether plant has separate male and female plants

        ## Flowering and Appearance
            bloom_start (SmallIntegerField): Month when blooming begins (choices from MONTHS)
            bloom_end (SmallIntegerField): Month when blooming ends (choices from MONTHS)
            bloom_color (ForeignKey): Reference to BloomColor model
-->

{% extends "core/base.html" %}
{% load static %}
{% block extracss %}
  <link rel="stylesheet" href="{% static 'css/form.css' %}">
{% endblock extracss %}

{% block title %}{{ plant.latin_name }} - Plant Growth Characteristics{% endblock title %}
{{ title }}
{% block content %}
  <main class="main-content">
    {% include "project/_profile_update_links.html" %}
    <div class="flex-col-center">
      <h1>Update Plant Growth Characteristics</h1>
      <h2><a href="{% url 'plant-profile-page' plant.pk %}">{{ plant.latin_name }}</a></h2>
      <form method="post" action="{% url 'plant-growth-characteristics-update' plant.pk %}">
        {% csrf_token %}
        <div class="inputs">
              <!--Physical Dimensions-->
          <fieldset class="form-group">
            <legend>Physical Dimensions</legend>
            <div class="input-text">
              <label for="id_max_height">Maximum Height (feet)</label>
              <input type="number" id="id_max_height" name="max_height" value="{{ plant.max_height }}" step="0.01" required>
            </div>
            <div class="input-text">
              <label for="id_max_width">Maximum Width (feet)</label>
              <input type="number" id="id_max_width" name="max_width" value="{{ plant.max_width }}" step="0.01" required>
            </div>
          </fieldset>
              <!--growth_habit-->
          <fieldset class="form-group">
            <legend>Growth Habit</legend>
            <div class="radio-options">
              {% for habit in growth_habits %}
                <div class="radio-option">
                  <input type="radio" id="id_growth_habit_{{ habit.pk }}" name="growth_habit" value="{{ habit.pk }}"
                         {% if plant.growth_habit.pk == habit.pk %}checked{% endif %} required>
                  <label for="id_growth_habit_{{ habit.pk }}">{{ habit }}</label>
                </div>
              {% endfor %}
            </div>
          </fieldset>

            <!--Plant Spread Characteristics-->
          <fieldset class="form-group">
            <legend>Spread Characteristics</legend>
            <div class="input-checkbox">
              <input type="checkbox" id="id_does_not_spread" name="does_not_spread" {% if plant.does_not_spread %}checked{% endif %}>
              <label for="id_does_not_spread">Does Not Spread</label>
            </div>
            <div class="input-checkbox">
              <input type="checkbox" id="id_spread_by_rhizome" name="spread_by_rhizome" {% if plant.spread_by_rhizome %}checked{% endif %}>
              <label for="id_spread_by_rhizome">Spread by Rhizome</label>
            </div>
            <!--input checkbox for germinate_easy-->
            <div class="input-checkbox">
              <input type="checkbox" id="id_germinate_easy" name="germinate_easy" {% if plant.germinate_easy %}checked{% endif %}>
              <label for="id_germinate_easy">Germinate Easy</label>
            </div>
            <!--input checkbox for self_seeding-->
            <div class="input-checkbox">
              <input type="checkbox" id="id_self_seeding" name="self_seeding" {% if plant.self_seeding %}checked{% endif %}>
              <label for="id_self_seeding">Self Seeding</label>
            </div>
            <!--input checkbox for beginner_friendly-->
            <div class="input-checkbox">
              <input type="checkbox" id="id_beginner_friendly" name="beginner_friendly" {% if plant.beginner_friendly %}checked{% endif %}>
              <label for="id_beginner_friendly">Beginner Friendly</label>
            </div>
            <!--input checkbox for transplantation_tolerant-->
            <div class="input-checkbox">
              <input type="checkbox" id="id_transplantation_tolerant" name="transplantation_tolerant" {% if plant.transplantation_tolerant %}checked{% endif %}>
              <label for="id_transplantation_tolerant">Transplantation Tolerant</label>
            </div>

          </fieldset>

            <!--Plant Life Cycle Characteristics-->
          <fieldset class="form-group">
            <legend>Life Cycle Characteristics</legend>
            <div class="input-checkbox">
              <input type="checkbox" id="id_spring_ephemeral" name="spring_ephemeral" {% if plant.spring_ephemeral %}checked{% endif %}>
              <label for="id_spring_ephemeral">Spring Ephemeral</label>
            </div>
            <div class="input-checkbox">
              <input type="checkbox" id="id_dioecious" name="dioecious" {% if plant.dioecious %}checked{% endif %}>
              <label for="id_dioecious">Dioecious</label>
            </div>
          </fieldset>
          <fieldset class="form-group">
            <legend>Lifespan</legend>
            <div class="radio-options">
              {% for lifespan in lifespan_choices %}
                <div class="radio-option">
                  <input type="radio" id="id_lifespan_{{ lifespan.pk }}" name="lifespan" value="{{ lifespan.pk }}"
                         {% if plant.lifespan.pk == lifespan.pk %}checked{% endif %} required>
                  <label for="id_lifespan_{{ lifespan.pk }}">{{ lifespan }}</label>
                </div>
              {% endfor %}
            </div>
          </fieldset>

            <!--Flowering and Appearance-->
          <fieldset class="form-group">
            <legend>Bloom characteristics</legend>
            <div class="input-select">
              <label for="id_bloom_start">Bloom Start Month</label>
              <select id="id_bloom_start" name="bloom_start" required>
                {% for month in bloom_starts %}
                  <option value="{{ month }}" {% if plant.bloom_start == month %}selected{% endif %}>
                    {{ month }}
                  </option>
                {% endfor %}
              </select>
            </div>
            <div class="input-select">
              <label for="id_bloom_end">Bloom End Month</label>
              <select id="id_bloom_end" name="bloom_end" required>
                {% for month in bloom_ends %}
                  <option value="{{ month }}" {% if plant.bloom_end == month %}selected{% endif %}>
                    {{ month }}
                  </option>
                {% endfor %}
              </select>
            </div>
            <div class="input-select">
              <label for="id_bloom_color">Bloom Color</label>
              <select id="id_bloom_color" name="bloom_color" required>
                {% for color in bloom_colors %}
                  <option value="{{ color.pk }}" {% if plant.bloom_color.pk == color.pk %}selected{% endif %}>
                    {{ color }}
                  </option>
                {% endfor %}
              </select>
            </div>
          </fieldset>

          <!--Plant Complementary-->
          <fieldset>
            <legend>Plant Complementary</legend>
            {% for plant in plant_complements  %}
            <!--input checkbox for plant complementary-->
              <div class="input-checkbox">
                <input type="checkbox" id="id_plant_{{ plant.complement.pk }}" name="complements" value="{{ plant.complement.pk }}"checked>
                <label for="id_plant_{{ plant.complement.pk }}">{{ plant.complement.latin_name }}</label>
              </div>
            {% empty %}
              <p>No complementary plants found.</p>
            {% endfor %}
            <div class="input-checkbox">
              <!--complement element from forms -->
              {% for plant in plants %}
                <div class="input-checkbox">
                  <input type="checkbox" id="id_plant_{{ plant.pk }}" name="complements" value="{{ plant.pk }}">
                  <label for="id_plant_{{ plant.pk }}">{{ plant.latin_name }}</label>
                </div>
              {% endfor %}
            </div>
          </fieldset>
        </div>
        <button type="submit" class="btn btn-primary">Update</button>
        <a href="{% url 'plant-growth-characteristics-update' plant.pk %}" class="btn btn-primary">Cancel</a>
      </form>
    </div>
  </main>
{% endblock content %}
