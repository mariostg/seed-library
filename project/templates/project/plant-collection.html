{% extends "core/base.html" %}
{% load i18n %}
{% load static %}
{% load months %}
{% block content %}
  {% if object_list %}
    <div class="flex-col-center">
      <h1>{% trans "My Seed Pack" %}</h1>
      <span></span>
      <a class="no-print btn" href="{% url 'plant-collection-csv' %}">Export {{object_list.count}} species to CSV</a>
    </div>
    <div id="search-results" class="table-overflow">
      <table>
        <thead>
          <tr>
            <th>{% trans "Names" %}</th>
            <th>{% trans "Sun Requirement" %}</th>
            <th>{% trans "Soil Condition" %}</th>
            <th>{% trans "Bloom Period" %}</th>
            <th>{% trans "Harvesting Period" %}</th>
            <th>{% trans "Max Height" %}</th>
            <th>{% trans "Stratification" %}</th>
            <th>{% trans "Sowing depth" %}</th>
            <th>{% trans "Notes" %}</th>
            <th>{% trans "Action" %}</th>
          </tr>
        </thead>
        {% for item in object_list  %}
          <tr class="{% cycle 'even-row' 'odd-row' as rowcolors %}">

            <td><a href="{% url 'plant-profile-page' item.plants.pk %}">{{item.plants.latin_name}}</a>
              <br>{{item.plants.english_name}}<br>{{item.plants.french_name}}
            </td>
            <td>
              <span>
                {% if item.plants.full_sun %}
                  <div class="tooltip">
                    <img
                      alt="Full sun"
                      class="icon"
                      src="{% static 'images/plant-full-sun.svg' %}"
                    />
                    <span class="tooltiptext">{% trans "More than 6 hours of direct sun a day" %}</span>
                  </div>
                {% endif %} {% if item.plants.part_shade %}
                  <div class="tooltip">
                    <img
                      alt="Part shade"
                      class="icon"
                      src="{% static 'images/plant-part-shade.svg' %}"
                    />
                    <span class="tooltiptext"
                    >{% trans "More than 2 or 3 hours but less than 6 hours of direct sun a day" %}</span
                      >
                    </div>
                {% endif %} {% if item.plants.full_shade %}
                  <div class="tooltip">
                    <img
                      alt="Full shade"
                      class="icon"
                      src="{% static 'images/plant-full-shade.svg' %}"
                    />
                    <span class="tooltiptext"
                    >{% trans "Less than 2 or 3 hours of direct sun a day" %}</span
                      >
                    </div>
                {% endif %}
              </span>
              <td>

                <span>
                  {% if item.plants.moisture_dry %}
                    <div class="tooltip">
                      <img
                        alt="Moisture dry"
                        class="icon"
                        src="{% static 'images/plant-moisture-dry.svg' %}"
                      />
                      <span class="tooltiptext">{% trans "Tolerates dry soil condition" %}</span>
                    </div>
                  {% endif %} {% if item.plants.moisture_medium %}
                    <div class="tooltip">
                      <img
                        alt="Moisture medium"
                        class="icon"
                        src="{% static 'images/plant-moisture-medium.svg' %}"
                      />
                      <span class="tooltiptext">{% trans "Tolerates medium soil condition" %}</span>
                    </div>
                  {% endif %} {% if item.plants.moisture_wet %}
                    <div class="tooltip">
                      <img
                        alt="Moisture wet"
                        class="icon"
                        src="{% static 'images/plant-moisture-wet.svg' %}"
                      />
                      <span class="tooltiptext">{% trans "Tolerates wet soil condition" %}</span>
                    </div>
                  {% endif %}
                </span>

              </td>
            </td>
            <td>{{item.plants.bloom_start|month_name}}
              {% if item.plants.bloom_end != 0 %}to<br> {{item.plants.bloom_end|month_name}} {% endif %}
            </td>

            <td>{{item.plants.harvesting_start|month_name}} </td>

            <td>{{item.plants.max_height}}</td>
            <td>{{item.plants.stratification_detail}}{{item.plants.stratification_duration}}  </td>
            <td>{{item.plants.sowing_depth}} {% if item.plants.sowing_detail %}<br>{{item.plants.sowing_detail}}{% endif %}</td>
            <td>{{item.details}}</td>
            <td>
              <a class='btn btn-delete' href="{% url 'user-plant-delete' pk=item.pk %}">Remove</a>
              <a class='btn btn-edit' href="{% url 'user-plant-update' pk=item.pk %}">Note</a>
            </td>

          </tr>
        {% endfor %}
      </table>
    </div>
  {% endif %}
  <script src="{% static 'js/collection-toggler.js' %}"></script>
{% endblock content %}
