<!--A template to update the non-native a plant can substitute to-->

{% extends "core/base.html" %}
{% load i18n %}
{% load static %}
{% block title %}{{ plant_profile.latin_name }} - {% trans "substitutes to" %}{% endblock title %}
{{ title }}
{% block content %}
  <main class="main-content">
    {% include "project/plant_profile/_profile_update_links.html" %}
    <div class="flex-col-center">
      <h1>{% trans "Update Plant Substitute To" %}</h1>
      <h2><a href="{% url 'plant-profile-page' plant.pk %}">{{ plant.latin_name }}</a></h2>
      <form action="{% url 'plant-substitute-to-update' plant.pk %}" method="post">
        {% csrf_token %}
        <div class="form inputs">
          {% if plant.substitute_for_non_native.all %}
            <fieldset class="form-group">
              <legend>{% trans "Substitute To" %}</legend>
              {% for substitute in plant.substitute_for_non_native.all %}
                <div class="substitute-item">
                  <input type="checkbox" id="substitute_{{ substitute.pk }}" name="substitute_for_non_native" value="{{ substitute.pk }}" checked>
                  <label for="substitute_{{ substitute.pk }}">{{ substitute.latin_name }} - {{ substitute.english_name }}</label>
                </div>
              {% endfor %}
            </fieldset>
          {% endif %}
            <!-- input checkboxes for unsupported bees -->
          <div class="form inputs">
            <fieldset class="form-group flex-row">
              <legend>{% trans "Add more non-native substitutes" %}</legend>
              <div class="checkbox-group">
                {% for substitute in unsupported_substitutes %}
                  {% if forloop.counter0|divisibleby:10 and forloop.counter0 > 0 %}
                    </div><div class="checkbox-group">
                  {% endif %}

                  <div class="input-checkbox">
                    <input type="checkbox" id="substitute_{{ substitute.pk }}" name="substitute_for_non_native" value="{{ substitute.pk }}">
                    <label for="substitute_{{ substitute.pk }}">{{ substitute.latin_name }}</label>
                  </div>
                {% endfor %}
              </div>
            </fieldset>
          </div>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn--primary">{% trans "Update Substitutes To" %}</button>
        </div>
      </form>
    </div>
  </main>
{% endblock content %}
