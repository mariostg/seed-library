{% extends "core/base.html" %}

{% load i18n %}
{% load static %}
{% block content %}
  {% include "project/admin/admin_links.html" %}
  {% if object_list %}
    <section class='wrapper'>
      <p class='container'>{% trans "Use this table to prepare a list of available plants for the next give away event.  Click on the plant to toggle its availailability.  Plants highlighted in green are marked available. View" %} <a target='blank' href="/search-plant-name/?seed_availability=true#search-results">{% trans "available plants" %}</a> {% trans "in a new tab. From there, you can drill down further to refine the research." %}</p>
      <table>
        <thead>
          <tr>
            <th>{% trans "Event Table" %}</th>
            <th colspan='3'>{% trans "Names" %}</th>
            <th>{% trans "Seed Needed" %}</th>
            <th>{% trans "Seed Availability" %}</th>
            <th>{% trans "Seeds Accepted" %}</th>
            <th>{% trans "Plant Active" %}</th>
            <th>{% trans "Plant Accepted" %}</th>
          </tr>
        </thead>
        {% for item in object_list  %}
          <tr>
            <td>{{item.seed_event_table}}</td>
            <td>{{item.latin_name}}</td>
            <td> {{item.english_name}}</td>
            <td>{{item.french_name}}</td>


            <td data-seed-needed={{item.is_needed}} data-pk={{item.pk}}
                {% if item.is_needed %}class="seed-needed-toggler ok">&#x2713;
            {% else %}class="seed-needed-toggler">✖️
            {% endif %}
          </td>

          <td data-availability={{item.seed_availability}} data-pk={{item.pk}}
              {% if item.seed_availability %}class="toggler ok">&#x2713;
          {% else %}class="toggler">✖️
          {% endif %}
          </td>

          <td data-accepting-seed={{item.accepting_seed}} data-pk={{item.pk}}
              {% if item.accepting_seed %}class="seed-accepting-toggler ok">&#x2713;
          {% else %}class="seed-accepting-toggler">✖️
          {% endif %}
          </td>

          <td data-active={{item.is_active}} data-pk={{item.pk}}
              {% if item.is_active %}class="is-active-toggler ok">&#x2713;
          {% else %}class="is-active-toggler">✖️
          {% endif %}
          </td>

          <td data-plant-accepted={{item.is_accepted}} data-pk={{item.pk}}
              {% if item.is_accepted %}class="plant-accepted-toggler ok">&#x2713;
          {% else %}class="plant-accepted-toggler">✖️
          {% endif %}
          </td>

          <td><a target="_blank" href="{% url 'plant-profile-page' item.pk%}">{% trans "Profile" %}</a></td>
        {% endfor %}
      </table>
    </section>
  {% endif %}
  <script src="{% static 'js/availability-toggler.js' %}"></script>
{% endblock content %}
